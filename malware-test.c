/**
 * Creates a couple of processes that will eat up the processor
 *
 * Authors: Marcus Ã–stling, Lars Lundin, Carl Dath
 */
#include <stdio.h>
#include <unistd.h>

int main() {
	int pid;
restart:
	pid = fork();

	if (pid == 0) {
		printf("Never gonna let you down! (I'm %d)\n", pid);
		fork();
		int count = 0;
		while(count < 10) {
			count++;
			int p2 = fork();
			if(p2 == 0)
				goto restart;
		}	
	}
	else {
		printf("Never gonna give you up (I'm %d)\n", pid);
		goto restart;
	}

	return 0;
}
